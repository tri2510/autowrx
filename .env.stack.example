# AutoWRX Complete Stack Environment Configuration
# Copy this file to .env.stack and update the values for your deployment

# ============================================
# General Configuration
# ============================================
ENV=prod
NODE_ENV=production

# ============================================
# Docker Image Tags
# ============================================
# Frontend image tag (set to specific version in production)
FRONTEND_IMAGE_TAG=latest
# Backend image tag (set to specific version in production)
BACKEND_IMAGE_TAG=latest

# ============================================
# Network & Ports
# ============================================
# Frontend application port
FRONTEND_PORT=8090
# Kong API Gateway proxy port (main entry point for APIs)
KONG_PROXY_PORT=9800
# Kong Nginx worker processes
KONG_NGINX_WORKER_PROCESSES=auto

# ============================================
# Database Configuration
# ============================================
# MongoDB connection URL for main application
MONGODB_URL=mongodb://autowrx-db:27017/autowrx-be

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed CORS origins (regex patterns)
CORS_ORIGINS="^http(s)?://localhost(:\\d+)?$,.*\\.digitalauto\\.tech$,.*\\.digitalauto\\.asia$,.*\\.digital\\.auto$,^http(s)?://127\\.0\\.0\\.1(:\\d+)?$"

# ============================================
# File Upload Configuration
# ============================================
UPLOAD_PORT=9810
# Path inside container
UPLOAD_PATH=/opt/data/upload
# Path on host machine
UPLOAD_PATH_HOST=./data/upload
# Upload domain (API endpoint)
UPLOAD_DOMAIN=/api/v2/file/

# ============================================
# JWT Configuration
# ============================================
# IMPORTANT: Change this to a strong, random secret in production
JWT_SECRET=your-secret-key-change-in-production
# Minutes after which access tokens expire
JWT_ACCESS_EXPIRATION_MINUTES=30
# Days after which refresh tokens expire
JWT_REFRESH_EXPIRATION_DAYS=30
# Minutes after which reset password tokens expire
JWT_RESET_PASSWORD_EXPIRATION_MINUTES=10
# Minutes after which verify email tokens expire
JWT_VERIFY_EMAIL_EXPIRATION_MINUTES=10
# Cookie name for refresh token
JWT_COOKIE_NAME=token
# Cookie domain (set to your domain in production, e.g., .yourdomain.com)
JWT_COOKIE_DOMAIN=

# ============================================
# Frontend API Configuration
# ============================================
# API URL that frontend will connect to
VITE_API_URL=http://localhost:9800

# ============================================
# External Services URLs
# ============================================
# Base URL for the client application (used in emails, etc.)
CLIENT_BASE_URL=http://localhost:8090
# Cache service URL (optional)
CACHE_URL=
# Logging service URL (optional)
LOG_URL=
# Homologation service URL (optional)
HOMOLOGATION_URL=
# GenAI service URL (optional)
GENAI_URL=

# ============================================
# Email Configuration
# ============================================
# Email service API key (default: Brevo)
EMAIL_API_KEY=
# Email service endpoint URL
EMAIL_ENDPOINT_URL=https://api.brevo.com/v3/smtp/email

# ============================================
# OAuth / GitHub Configuration
# ============================================
# GitHub OAuth client ID (for GitHub authentication)
GITHUB_CLIENT_ID=
# GitHub OAuth client secret
GITHUB_CLIENT_SECRET=

# ============================================
# Homologation Service
# ============================================
# Homologation authentication client ID
HOMOLOGATION_AUTH_CLIENT_ID=
# Homologation authentication client secret
HOMOLOGATION_AUTH_CLIENT_SECRET=

# ============================================
# Admin Configuration
# ============================================
# Comma-separated list of admin email addresses
# These users will be automatically provisioned as admins
ADMIN_EMAILS=admin@example.com
# Default admin password
ADMIN_PASSWORD=change-me-in-production

# ============================================
# Logging Configuration
# ============================================
# Maximum size of change logs in megabytes
LOGS_MAX_SIZE=100
